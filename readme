
ğŸŒ¾ Rice Quality Grading System (NCT Standard)

A computer visionâ€“powered system that automatically grades rice quality following the National Cooperative Testing (NCT) Manual for Rice (Philippines).

This project uses a custom-trained YOLOv11 model to classify individual grains and a Python post-processing engine to compute the final NCT grade (Premium, Grade 1, Grade 2, Grade 3) based on defect percentages and Head Rice Recovery.

ğŸ¯ Features
ğŸ” Automated Grain Detection

Identifies 6 types of rice grain defects using YOLOv11:

Whole (Head Rice)

Broken

Chalky

Discolored / Damaged

Immature

Foreign Object

ğŸ·ï¸ NCT-Compliant Grading

Implements grading logic from NCT Manual, Chapter XVI using:

Head Rice Recovery (%)

Chalkiness (%)

Immaturity (%)

Discoloration (%)

Foreign Matter (Count)

ğŸ“Š Detailed Reporting

Generates:

Annotated images with bounding boxes

Full breakdown of detected grains

Final NCT Grade using limiting-factor rule
(lowest passing category determines final grade)

ğŸ› ï¸ Tech Stack
Component	Technology
Model Architecture	YOLOv11 (Ultralytics)
Language	Python 3.x
Key Libraries	ultralytics, opencv-python, numpy, matplotlib, glob
Training Environment	Google Colab (T4 GPU)
ğŸ“˜ NCT Grading Standard
NCT Quality Classification Table
Grade	Head Rice %	Chalky %	Immature %	Discolored %	Foreign Matter
Premium	â‰¥ 57.0%	< 2.0%	< 2.0%	â‰¤ 0.5%	0
Grade 1	48.0â€“56.9%	2.0â€“5.0%	2.0â€“5.0%	â‰¤ 2.0%	0
Grade 2	39.0â€“47.9%	5.1â€“10.0%	5.1â€“10.0%	â€“	Allowed
Grade 3	30.0â€“38.9%	10.1â€“15.0%	10.1â€“15.0%	â€“	Allowed

ğŸ“ NCT Rule:
A â€œlimiting factorâ€ applies â€”
even if Head Rice is Premium level, the entire batch grade drops to the lowest category where any defect falls.

ğŸš€ Installation

Clone the repository:

git clone https://github.com/your-username/rice-grading-system.git
cd rice-grading-system


Install dependencies:

pip install ultralytics opencv-python matplotlib numpy


Add your model weights:

grain_quality_detector.pt


Place it in the root directory.

ğŸ’» Usage
1ï¸âƒ£ Set the paths

Edit your script (e.g., grade_rice.py):

IMAGE_DIR = "./test_images/"
MODEL_PATH = "grain_quality_detector.pt"

2ï¸âƒ£ Run the rice grading system:
python grade_rice.py

3ï¸âƒ£ View Output

You will get:

A printed summary report

Annotated images per batch

ğŸ“„ Sample Report Output
========================================
      NCT RICE QUALITY ANALYSIS REPORT
========================================
Total Objects Detected: 145
----------------------------------------
HEAD RICE (Whole):      110  (75.86%)
BROKEN RICE:            20   (13.79%)
CHALKY GRAINS:          10   (6.90%)
IMMATURE GRAINS:        3    (2.07%)
DISCOLORED/DAMAGED:     2    (1.38%)
FOREIGN MATTER:         0    (Count)
----------------------------------------
OFFICIAL GRADE:         GRADE 2
========================================

ğŸ§  Model Training Summary

Training Images: ~4,200

Validation: 480

Test: 172

Epochs: 50

Image Size: 640Ã—640

Classes: Whole, Broken, Chalky, Discolored, Immature, Foreign Object

ğŸ¤ Contributing

Contributions are welcome!
Feel free to open an Issue or submit a Pull Request.

â­ Acknowledgments

This project is aligned with the NCT Rice Manual (Chapter XVI) and aims to support researchers, graders, and agritech developers in automating rice quality assessment.
